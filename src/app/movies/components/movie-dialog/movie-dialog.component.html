<app-dialog>
  <h2 title>
    @if (data.movie && data.movie.id) {
      Edit movie with id = {{ data.movie.id }}
    } @else {
      Add new movie
    }
  </h2>
  <form [formGroup]="formGroup">
    <input
      placeholder="title"
      type="text"
      formControlName="title"
      [class.error]="submitted && formGroup.get('title')?.errors"
    />
    <input
      placeholder="year"
      type="number"
      formControlName="year"
      [class.error]="submitted && formGroup.get('year')?.errors"
    />
    <select multiple formControlName="actors">
      <option value="" disabled selected>Select actors</option>
      @for (actor of actors; track actor.id) {
        <option [value]="actor.name">{{ actor.name }}</option>
      }
    </select>
    <button (click)="submit()" class="submit">Save!</button>
    <button (click)="delete()" class="submit">Delete!</button>
  </form>
</app-dialog>
